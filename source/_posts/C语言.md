---
title: 嵌入式工程师的0x10个问题
date: 2020-05-08 15:11:33
tags:
---

**嵌入式工程师的0x10个问题**

1、用预处理指令#define声明一个常数，用以表示一年中有多少秒

```c
#define SECONDS_PER_YEAR (60 * 60 * 24 * 365)UL
```

- #define语法的基本知识，不能以分号结尾
- 懂得预处理器将计算常数表达式的值
- 这个值在16位中将溢出

2、写一个标准宏MIN，这个宏输入两个参数并返回较小的一个

```c
#define MIN(A,B) ((A)<=(B)?(A):(B))
```

- 标识#define在宏中应用的基本知识。这是很重要的，因为直到嵌入(inline)操作符变为标准C的一部分，宏是方便产生嵌入代码的唯一方法，对于嵌入式系统来说，为了能达到要求的性能，嵌入代码经常是必须的方法。

- 三重条件操作符的知识。这个操作符存在C语言中的原因是它使得编译器能产生比if-then-else更优化的代码，了解这个用法是很重要的；

- 懂得在宏中小心地把参数用括号括起来

- 我也用这个问题开始讨论宏的副作用，例如：当你写下面的代码时会发生什么事？

  ```c
  least = MIN(*p++, b);
  ```


3、用变量a给出以下定义

- ​	一个整型变量

  ```c
  int a;
  ```

- ​	一个指向整型数的指针

  ```c
  int *a;
  ```

- 一个指向指针的指针，它的指针是指向一个整型数

  ```c
  int **a;
  ```

- 一个10个整型数的数组

  ```c
  int a[10];
  ```

- 一个有10个指针的数组，该指针是指向一个整型数

  ```c
  int *a[10];
  ```

- 一个指向有10个整型数数组的指针

  ```c
  int (*a)[10];
  ```

- 一个指向函数的指针，该函数有一个整型参数并返回一个整数

  ```c
  int (*a)(int);
  ```

- 一个有10个指针的数组，该指针指向一个函数，该函数有一个整型参数并返回一个整数

  ```c
  int (*a[10])(int);
  ```

4、static关键字有什么用？

- 在函数内，一个被声明为静态的变量在这一涵数被调用过程中维持其值不变
- 在模块内(但在函数体外)，一个被声明为静态的变量可以被模块内所有函数所访问，不能被模块外其它函数访问，模块内全局变量。
- 在模块内用作函数的定义，声明该函数为静态函数，只可被该模块内函数调用。

5、const关键字有什么用？

- 只读、常数

  ```c
  const int a;//一个常整型数
  
  int const a;//一个常整型数
  
  const int *a;//指向常整型数的指针
  
  int * const a;//指向整型数的常指针
  
  int const * a const;//一个指向常整型数的常指针
  ```

6、volatile关键字有什么用？

​	一个定义为volatile的变量表明该变量可能会意向不到的被改变，处理器每次通过地址读取该值而不是通过寄存器的拷贝值。

*常用在：*

- 并行设备的硬件寄存器
- 中断服务子程序中会访问到的非自动变量
- 多线程中被多个任务共享的变量